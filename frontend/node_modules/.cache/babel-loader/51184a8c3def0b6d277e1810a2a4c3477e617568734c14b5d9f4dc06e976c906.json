{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rakir\\\\OneDrive\\\\Desktop\\\\STC\\\\frontend\\\\src\\\\pages\\\\TakeTest.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { Clock, Play, Send } from \"lucide-react\";\nimport api from \"../utils/api\";\nimport \"./taketest.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INSTRUCTIONS = [\"• Do not switch tabs, minimize, copy, paste, or take screenshots.\", \"• Your webcam will be monitored during the test.\", \"• You will receive up to 3 warnings for violations. On the 3rd, the test will auto-submit.\", \"• Answer all questions before submitting. Timer is at the top right.\", \"• For coding questions, select your language and write code in the editor.\"];\nconst LANGUAGES = [\"python\", \"javascript\", \"java\", \"cpp\"];\nconst shuffleArray = array => {\n  const shuffled = [...array];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n};\nconst speakViolation = message => {\n  if (\"speechSynthesis\" in window) {\n    const utterance = new SpeechSynthesisUtterance(message);\n    utterance.volume = 0.8;\n    utterance.rate = 0.9;\n    utterance.pitch = 1;\n    speechSynthesis.speak(utterance);\n  }\n};\nexport default function TakeTest() {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const [test, setTest] = useState((state === null || state === void 0 ? void 0 : state.test) || null);\n  const [questions, setQuestions] = useState([]);\n  const [started, setStarted] = useState(false);\n  const [answers, setAnswers] = useState({});\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [violationCount, setViolationCount] = useState(0);\n  const [violationReason, setViolationReason] = useState(\"\");\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [selectedLang, setSelectedLang] = useState(LANGUAGES[0]);\n  const [showResult, setShowResult] = useState(false);\n  const [resultData, setResultData] = useState(null);\n  const [warnings, setWarnings] = useState([]);\n  const [cameraError, setCameraError] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const videoRef = useRef(null);\n\n  // Fetch test data\n  useEffect(() => {\n    const fetchTestData = async () => {\n      try {\n        let testData = test;\n        if (!testData && id) {\n          const res = await api.get(`/tests/${id}`);\n          testData = res.data;\n          setTest(testData);\n        }\n        if (testData && testData.questions) {\n          const shuffledQuestions = shuffleArray(testData.questions);\n          const processedQuestions = shuffledQuestions.map(q => {\n            var _q$options;\n            if (q.type === \"mcq\" && ((_q$options = q.options) === null || _q$options === void 0 ? void 0 : _q$options.length) > 0) {\n              const optionsWithLetters = q.options.map((opt, idx) => ({\n                text: opt,\n                letter: String.fromCharCode(65 + idx)\n              }));\n              const shuffledOptions = shuffleArray(optionsWithLetters);\n              return {\n                ...q,\n                options: shuffledOptions.map(o => o.text),\n                optionMapping: shuffledOptions.map(o => o.letter)\n              };\n            }\n            return q;\n          });\n          setQuestions(processedQuestions);\n          setTimeLeft((testData.duration || 60) * 60);\n        }\n      } catch (err) {\n        console.error(err);\n        alert(\"Failed to fetch test!\");\n        navigate(\"/my-tests\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTestData();\n  }, [id, test, navigate]);\n\n  // Start test\n  const startTest = async () => {\n    if (cameraError) return;\n    setStarted(true);\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      setCameraStream(stream);\n      if (videoRef.current) videoRef.current.srcObject = stream;\n    } catch (e) {\n      console.error(e);\n      setCameraError(true);\n      alert(\"Camera access is required!\");\n    }\n  };\n  const handleAnswerChange = (questionId, value) => {\n    const currentQuestion = questions[currentQuestionIndex];\n    if ((currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"mcq\" && currentQuestion !== null && currentQuestion !== void 0 && currentQuestion.optionMapping) {\n      const originalOption = currentQuestion.optionMapping[value.charCodeAt(0) - 65];\n      setAnswers(prev => ({\n        ...prev,\n        [questionId]: originalOption\n      }));\n    } else {\n      setAnswers(prev => ({\n        ...prev,\n        [questionId]: value\n      }));\n    }\n  };\n  const handleSubmit = async () => {\n    if (isSubmitting) return;\n    setIsSubmitting(true);\n    try {\n      await api.post(`/submissions/${id}/submit`, {\n        answers,\n        violationReason\n      });\n      if (cameraStream) cameraStream.getTracks().forEach(t => t.stop());\n      if (document.fullscreenElement) document.exitFullscreen();\n      setShowResult(true);\n      setTimeout(() => navigate(\"/my-scores\"), 3000);\n    } catch (err) {\n      console.error(err);\n      alert(\"Error submitting test!\");\n      setIsSubmitting(false);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center min-h-screen\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 23\n  }, this);\n  if (!test || !questions.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No test or questions found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(\"/my-tests\"),\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 7\n  }, this);\n  const currentQuestion = questions[currentQuestionIndex];\n  const allAnswered = questions.every(q => answers[q._id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"taketest-container min-h-screen flex\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar w-64 bg-white p-4 shadow\",\n      children: questions.map((q, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentQuestionIndex(idx),\n        className: `w-10 h-10 mb-2 rounded-full border ${answers[q._id] ? \"bg-green-500\" : \"bg-gray-200\"}`,\n        children: idx + 1\n      }, q._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4\",\n        children: [\"Question \", currentQuestionIndex + 1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-4\",\n        children: currentQuestion.question\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), currentQuestion.type === \"mcq\" && currentQuestion.options.map((opt, idx) => {\n        const optionLetter = String.fromCharCode(65 + idx);\n        const isSelected = answers[currentQuestion._id] === (currentQuestion.optionMapping ? currentQuestion.optionMapping[idx] : optionLetter);\n        return /*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block p-2 border ${isSelected ? \"bg-blue-100\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: currentQuestion._id,\n            value: optionLetter,\n            checked: isSelected,\n            onChange: e => handleAnswerChange(currentQuestion._id, e.target.value),\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this), optionLetter, \". \", opt]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }, this);\n      }), currentQuestion.type === \"long\" && /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: answers[currentQuestion._id] || \"\",\n        onChange: e => handleAnswerChange(currentQuestion._id, e.target.value),\n        className: \"w-full border p-2 mt-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentQuestionIndex(Math.max(0, currentQuestionIndex - 1)),\n          disabled: currentQuestionIndex === 0,\n          className: \"px-4 py-2 bg-gray-200 rounded\",\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), currentQuestionIndex < questions.length - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentQuestionIndex(currentQuestionIndex + 1),\n          className: \"px-4 py-2 bg-blue-500 text-white rounded\",\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: !allAnswered || isSubmitting,\n          className: \"px-4 py-2 bg-green-500 text-white rounded\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n}\n_s(TakeTest, \"9mtqXsEzKmq2FcCW73CXzdqL3eg=\", false, function () {\n  return [useLocation, useNavigate, useParams];\n});\n_c = TakeTest;\nvar _c;\n$RefreshReg$(_c, \"TakeTest\");","map":{"version":3,"names":["useEffect","useState","useRef","useLocation","useNavigate","useParams","Clock","Play","Send","api","jsxDEV","_jsxDEV","INSTRUCTIONS","LANGUAGES","shuffleArray","array","shuffled","i","length","j","Math","floor","random","speakViolation","message","window","utterance","SpeechSynthesisUtterance","volume","rate","pitch","speechSynthesis","speak","TakeTest","_s","state","navigate","id","test","setTest","questions","setQuestions","started","setStarted","answers","setAnswers","timeLeft","setTimeLeft","violationCount","setViolationCount","violationReason","setViolationReason","currentQuestionIndex","setCurrentQuestionIndex","cameraStream","setCameraStream","isSubmitting","setIsSubmitting","selectedLang","setSelectedLang","showResult","setShowResult","resultData","setResultData","warnings","setWarnings","cameraError","setCameraError","loading","setLoading","videoRef","fetchTestData","testData","res","get","data","shuffledQuestions","processedQuestions","map","q","_q$options","type","options","optionsWithLetters","opt","idx","text","letter","String","fromCharCode","shuffledOptions","o","optionMapping","duration","err","console","error","alert","startTest","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","e","handleAnswerChange","questionId","value","currentQuestion","originalOption","charCodeAt","prev","handleSubmit","post","getTracks","forEach","t","stop","document","fullscreenElement","exitFullscreen","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","allAnswered","every","_id","question","optionLetter","isSelected","name","checked","onChange","target","max","disabled","_c","$RefreshReg$"],"sources":["C:/Users/rakir/OneDrive/Desktop/STC/frontend/src/pages/TakeTest.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { Clock, Play, Send } from \"lucide-react\";\nimport api from \"../utils/api\";\nimport \"./taketest.css\";\n\nconst INSTRUCTIONS = [\n  \"• Do not switch tabs, minimize, copy, paste, or take screenshots.\",\n  \"• Your webcam will be monitored during the test.\",\n  \"• You will receive up to 3 warnings for violations. On the 3rd, the test will auto-submit.\",\n  \"• Answer all questions before submitting. Timer is at the top right.\",\n  \"• For coding questions, select your language and write code in the editor.\",\n];\n\nconst LANGUAGES = [\"python\", \"javascript\", \"java\", \"cpp\"];\n\nconst shuffleArray = (array) => {\n  const shuffled = [...array];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n};\n\nconst speakViolation = (message) => {\n  if (\"speechSynthesis\" in window) {\n    const utterance = new SpeechSynthesisUtterance(message);\n    utterance.volume = 0.8;\n    utterance.rate = 0.9;\n    utterance.pitch = 1;\n    speechSynthesis.speak(utterance);\n  }\n};\n\nexport default function TakeTest() {\n  const { state } = useLocation();\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  const [test, setTest] = useState(state?.test || null);\n  const [questions, setQuestions] = useState([]);\n  const [started, setStarted] = useState(false);\n  const [answers, setAnswers] = useState({});\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [violationCount, setViolationCount] = useState(0);\n  const [violationReason, setViolationReason] = useState(\"\");\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [selectedLang, setSelectedLang] = useState(LANGUAGES[0]);\n  const [showResult, setShowResult] = useState(false);\n  const [resultData, setResultData] = useState(null);\n  const [warnings, setWarnings] = useState([]);\n  const [cameraError, setCameraError] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const videoRef = useRef(null);\n\n  // Fetch test data\n  useEffect(() => {\n    const fetchTestData = async () => {\n      try {\n        let testData = test;\n        if (!testData && id) {\n          const res = await api.get(`/tests/${id}`);\n          testData = res.data;\n          setTest(testData);\n        }\n\n        if (testData && testData.questions) {\n          const shuffledQuestions = shuffleArray(testData.questions);\n\n          const processedQuestions = shuffledQuestions.map((q) => {\n            if (q.type === \"mcq\" && q.options?.length > 0) {\n              const optionsWithLetters = q.options.map((opt, idx) => ({\n                text: opt,\n                letter: String.fromCharCode(65 + idx),\n              }));\n\n              const shuffledOptions = shuffleArray(optionsWithLetters);\n\n              return {\n                ...q,\n                options: shuffledOptions.map((o) => o.text),\n                optionMapping: shuffledOptions.map((o) => o.letter),\n              };\n            }\n            return q;\n          });\n\n          setQuestions(processedQuestions);\n          setTimeLeft((testData.duration || 60) * 60);\n        }\n      } catch (err) {\n        console.error(err);\n        alert(\"Failed to fetch test!\");\n        navigate(\"/my-tests\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTestData();\n  }, [id, test, navigate]);\n\n  // Start test\n  const startTest = async () => {\n    if (cameraError) return;\n    setStarted(true);\n\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      setCameraStream(stream);\n      if (videoRef.current) videoRef.current.srcObject = stream;\n    } catch (e) {\n      console.error(e);\n      setCameraError(true);\n      alert(\"Camera access is required!\");\n    }\n  };\n\n  const handleAnswerChange = (questionId, value) => {\n    const currentQuestion = questions[currentQuestionIndex];\n    if (currentQuestion?.type === \"mcq\" && currentQuestion?.optionMapping) {\n      const originalOption = currentQuestion.optionMapping[value.charCodeAt(0) - 65];\n      setAnswers((prev) => ({ ...prev, [questionId]: originalOption }));\n    } else {\n      setAnswers((prev) => ({ ...prev, [questionId]: value }));\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (isSubmitting) return;\n    setIsSubmitting(true);\n\n    try {\n      await api.post(`/submissions/${id}/submit`, {\n        answers,\n        violationReason,\n      });\n\n      if (cameraStream) cameraStream.getTracks().forEach((t) => t.stop());\n      if (document.fullscreenElement) document.exitFullscreen();\n\n      setShowResult(true);\n      setTimeout(() => navigate(\"/my-scores\"), 3000);\n    } catch (err) {\n      console.error(err);\n      alert(\"Error submitting test!\");\n      setIsSubmitting(false);\n    }\n  };\n\n  if (loading) return <div className=\"flex justify-center items-center min-h-screen\">Loading...</div>;\n  if (!test || !questions.length)\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen\">\n        <p>No test or questions found</p>\n        <button onClick={() => navigate(\"/my-tests\")}>Back</button>\n      </div>\n    );\n\n  const currentQuestion = questions[currentQuestionIndex];\n  const allAnswered = questions.every((q) => answers[q._id]);\n\n  return (\n    <div className=\"taketest-container min-h-screen flex\">\n      {/* Sidebar */}\n      <div className=\"sidebar w-64 bg-white p-4 shadow\">\n        {questions.map((q, idx) => (\n          <button\n            key={q._id}\n            onClick={() => setCurrentQuestionIndex(idx)}\n            className={`w-10 h-10 mb-2 rounded-full border ${\n              answers[q._id] ? \"bg-green-500\" : \"bg-gray-200\"\n            }`}\n          >\n            {idx + 1}\n          </button>\n        ))}\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 p-6\">\n        <h2 className=\"text-xl font-bold mb-4\">Question {currentQuestionIndex + 1}</h2>\n        <p className=\"mb-4\">{currentQuestion.question}</p>\n\n        {currentQuestion.type === \"mcq\" &&\n          currentQuestion.options.map((opt, idx) => {\n            const optionLetter = String.fromCharCode(65 + idx);\n            const isSelected =\n              answers[currentQuestion._id] ===\n              (currentQuestion.optionMapping ? currentQuestion.optionMapping[idx] : optionLetter);\n            return (\n              <label key={idx} className={`block p-2 border ${isSelected ? \"bg-blue-100\" : \"\"}`}>\n                <input\n                  type=\"radio\"\n                  name={currentQuestion._id}\n                  value={optionLetter}\n                  checked={isSelected}\n                  onChange={(e) => handleAnswerChange(currentQuestion._id, e.target.value)}\n                  className=\"mr-2\"\n                />\n                {optionLetter}. {opt}\n              </label>\n            );\n          })}\n\n        {currentQuestion.type === \"long\" && (\n          <textarea\n            value={answers[currentQuestion._id] || \"\"}\n            onChange={(e) => handleAnswerChange(currentQuestion._id, e.target.value)}\n            className=\"w-full border p-2 mt-2\"\n          />\n        )}\n\n        <div className=\"mt-4 flex gap-4\">\n          <button\n            onClick={() => setCurrentQuestionIndex(Math.max(0, currentQuestionIndex - 1))}\n            disabled={currentQuestionIndex === 0}\n            className=\"px-4 py-2 bg-gray-200 rounded\"\n          >\n            Previous\n          </button>\n          {currentQuestionIndex < questions.length - 1 ? (\n            <button\n              onClick={() => setCurrentQuestionIndex(currentQuestionIndex + 1)}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded\"\n            >\n              Next\n            </button>\n          ) : (\n            <button\n              onClick={handleSubmit}\n              disabled={!allAnswered || isSubmitting}\n              className=\"px-4 py-2 bg-green-500 text-white rounded\"\n            >\n              Submit\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACnD,SAASC,WAAW,EAAEC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACtE,SAASC,KAAK,EAAEC,IAAI,EAAEC,IAAI,QAAQ,cAAc;AAChD,OAAOC,GAAG,MAAM,cAAc;AAC9B,OAAO,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,MAAMC,YAAY,GAAG,CACnB,mEAAmE,EACnE,kDAAkD,EAClD,4FAA4F,EAC5F,sEAAsE,EACtE,4EAA4E,CAC7E;AAED,MAAMC,SAAS,GAAG,CAAC,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAE,KAAK,CAAC;AAEzD,MAAMC,YAAY,GAAIC,KAAK,IAAK;EAC9B,MAAMC,QAAQ,GAAG,CAAC,GAAGD,KAAK,CAAC;EAC3B,KAAK,IAAIE,CAAC,GAAGD,QAAQ,CAACE,MAAM,GAAG,CAAC,EAAED,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;IAC5C,MAAME,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,IAAIL,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7C,CAACD,QAAQ,CAACC,CAAC,CAAC,EAAED,QAAQ,CAACG,CAAC,CAAC,CAAC,GAAG,CAACH,QAAQ,CAACG,CAAC,CAAC,EAAEH,QAAQ,CAACC,CAAC,CAAC,CAAC;EACzD;EACA,OAAOD,QAAQ;AACjB,CAAC;AAED,MAAMO,cAAc,GAAIC,OAAO,IAAK;EAClC,IAAI,iBAAiB,IAAIC,MAAM,EAAE;IAC/B,MAAMC,SAAS,GAAG,IAAIC,wBAAwB,CAACH,OAAO,CAAC;IACvDE,SAAS,CAACE,MAAM,GAAG,GAAG;IACtBF,SAAS,CAACG,IAAI,GAAG,GAAG;IACpBH,SAAS,CAACI,KAAK,GAAG,CAAC;IACnBC,eAAe,CAACC,KAAK,CAACN,SAAS,CAAC;EAClC;AACF,CAAC;AAED,eAAe,SAASO,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM;IAAEC;EAAM,CAAC,GAAGhC,WAAW,CAAC,CAAC;EAC/B,MAAMiC,QAAQ,GAAGhC,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEiC;EAAG,CAAC,GAAGhC,SAAS,CAAC,CAAC;EAE1B,MAAM,CAACiC,IAAI,EAAEC,OAAO,CAAC,GAAGtC,QAAQ,CAAC,CAAAkC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEG,IAAI,KAAI,IAAI,CAAC;EACrD,MAAM,CAACE,SAAS,EAAEC,YAAY,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACyC,OAAO,EAAEC,UAAU,CAAC,GAAG1C,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC2C,OAAO,EAAEC,UAAU,CAAC,GAAG5C,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAM,CAAC6C,QAAQ,EAAEC,WAAW,CAAC,GAAG9C,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAAC+C,cAAc,EAAEC,iBAAiB,CAAC,GAAGhD,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACiD,eAAe,EAAEC,kBAAkB,CAAC,GAAGlD,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACmD,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGpD,QAAQ,CAAC,CAAC,CAAC;EACnE,MAAM,CAACqD,YAAY,EAAEC,eAAe,CAAC,GAAGtD,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACuD,YAAY,EAAEC,eAAe,CAAC,GAAGxD,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACyD,YAAY,EAAEC,eAAe,CAAC,GAAG1D,QAAQ,CAACY,SAAS,CAAC,CAAC,CAAC,CAAC;EAC9D,MAAM,CAAC+C,UAAU,EAAEC,aAAa,CAAC,GAAG5D,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC6D,UAAU,EAAEC,aAAa,CAAC,GAAG9D,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAAC+D,QAAQ,EAAEC,WAAW,CAAC,GAAGhE,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACiE,WAAW,EAAEC,cAAc,CAAC,GAAGlE,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACmE,OAAO,EAAEC,UAAU,CAAC,GAAGpE,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMqE,QAAQ,GAAGpE,MAAM,CAAC,IAAI,CAAC;;EAE7B;EACAF,SAAS,CAAC,MAAM;IACd,MAAMuE,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,IAAIC,QAAQ,GAAGlC,IAAI;QACnB,IAAI,CAACkC,QAAQ,IAAInC,EAAE,EAAE;UACnB,MAAMoC,GAAG,GAAG,MAAMhE,GAAG,CAACiE,GAAG,CAAC,UAAUrC,EAAE,EAAE,CAAC;UACzCmC,QAAQ,GAAGC,GAAG,CAACE,IAAI;UACnBpC,OAAO,CAACiC,QAAQ,CAAC;QACnB;QAEA,IAAIA,QAAQ,IAAIA,QAAQ,CAAChC,SAAS,EAAE;UAClC,MAAMoC,iBAAiB,GAAG9D,YAAY,CAAC0D,QAAQ,CAAChC,SAAS,CAAC;UAE1D,MAAMqC,kBAAkB,GAAGD,iBAAiB,CAACE,GAAG,CAAEC,CAAC,IAAK;YAAA,IAAAC,UAAA;YACtD,IAAID,CAAC,CAACE,IAAI,KAAK,KAAK,IAAI,EAAAD,UAAA,GAAAD,CAAC,CAACG,OAAO,cAAAF,UAAA,uBAATA,UAAA,CAAW9D,MAAM,IAAG,CAAC,EAAE;cAC7C,MAAMiE,kBAAkB,GAAGJ,CAAC,CAACG,OAAO,CAACJ,GAAG,CAAC,CAACM,GAAG,EAAEC,GAAG,MAAM;gBACtDC,IAAI,EAAEF,GAAG;gBACTG,MAAM,EAAEC,MAAM,CAACC,YAAY,CAAC,EAAE,GAAGJ,GAAG;cACtC,CAAC,CAAC,CAAC;cAEH,MAAMK,eAAe,GAAG5E,YAAY,CAACqE,kBAAkB,CAAC;cAExD,OAAO;gBACL,GAAGJ,CAAC;gBACJG,OAAO,EAAEQ,eAAe,CAACZ,GAAG,CAAEa,CAAC,IAAKA,CAAC,CAACL,IAAI,CAAC;gBAC3CM,aAAa,EAAEF,eAAe,CAACZ,GAAG,CAAEa,CAAC,IAAKA,CAAC,CAACJ,MAAM;cACpD,CAAC;YACH;YACA,OAAOR,CAAC;UACV,CAAC,CAAC;UAEFtC,YAAY,CAACoC,kBAAkB,CAAC;UAChC9B,WAAW,CAAC,CAACyB,QAAQ,CAACqB,QAAQ,IAAI,EAAE,IAAI,EAAE,CAAC;QAC7C;MACF,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClBG,KAAK,CAAC,uBAAuB,CAAC;QAC9B7D,QAAQ,CAAC,WAAW,CAAC;MACvB,CAAC,SAAS;QACRiC,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDE,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAAClC,EAAE,EAAEC,IAAI,EAAEF,QAAQ,CAAC,CAAC;;EAExB;EACA,MAAM8D,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAIhC,WAAW,EAAE;IACjBvB,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAMwD,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MACzEhD,eAAe,CAAC4C,MAAM,CAAC;MACvB,IAAI7B,QAAQ,CAACkC,OAAO,EAAElC,QAAQ,CAACkC,OAAO,CAACC,SAAS,GAAGN,MAAM;IAC3D,CAAC,CAAC,OAAOO,CAAC,EAAE;MACVX,OAAO,CAACC,KAAK,CAACU,CAAC,CAAC;MAChBvC,cAAc,CAAC,IAAI,CAAC;MACpB8B,KAAK,CAAC,4BAA4B,CAAC;IACrC;EACF,CAAC;EAED,MAAMU,kBAAkB,GAAGA,CAACC,UAAU,EAAEC,KAAK,KAAK;IAChD,MAAMC,eAAe,GAAGtE,SAAS,CAACY,oBAAoB,CAAC;IACvD,IAAI,CAAA0D,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAE7B,IAAI,MAAK,KAAK,IAAI6B,eAAe,aAAfA,eAAe,eAAfA,eAAe,CAAElB,aAAa,EAAE;MACrE,MAAMmB,cAAc,GAAGD,eAAe,CAAClB,aAAa,CAACiB,KAAK,CAACG,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;MAC9EnE,UAAU,CAAEoE,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAE,CAACL,UAAU,GAAGG;MAAe,CAAC,CAAC,CAAC;IACnE,CAAC,MAAM;MACLlE,UAAU,CAAEoE,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAE,CAACL,UAAU,GAAGC;MAAM,CAAC,CAAC,CAAC;IAC1D;EACF,CAAC;EAED,MAAMK,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI1D,YAAY,EAAE;IAClBC,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI;MACF,MAAMhD,GAAG,CAAC0G,IAAI,CAAC,gBAAgB9E,EAAE,SAAS,EAAE;QAC1CO,OAAO;QACPM;MACF,CAAC,CAAC;MAEF,IAAII,YAAY,EAAEA,YAAY,CAAC8D,SAAS,CAAC,CAAC,CAACC,OAAO,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;MACnE,IAAIC,QAAQ,CAACC,iBAAiB,EAAED,QAAQ,CAACE,cAAc,CAAC,CAAC;MAEzD7D,aAAa,CAAC,IAAI,CAAC;MACnB8D,UAAU,CAAC,MAAMvF,QAAQ,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC;IAChD,CAAC,CAAC,OAAO0D,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBG,KAAK,CAAC,wBAAwB,CAAC;MAC/BxC,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,IAAIW,OAAO,EAAE,oBAAOzD,OAAA;IAAKiH,SAAS,EAAC,+CAA+C;IAAAC,QAAA,EAAC;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACnG,IAAI,CAAC3F,IAAI,IAAI,CAACE,SAAS,CAACtB,MAAM,EAC5B,oBACEP,OAAA;IAAKiH,SAAS,EAAC,wDAAwD;IAAAC,QAAA,gBACrElH,OAAA;MAAAkH,QAAA,EAAG;IAA0B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACjCtH,OAAA;MAAQuH,OAAO,EAAEA,CAAA,KAAM9F,QAAQ,CAAC,WAAW,CAAE;MAAAyF,QAAA,EAAC;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxD,CAAC;EAGV,MAAMnB,eAAe,GAAGtE,SAAS,CAACY,oBAAoB,CAAC;EACvD,MAAM+E,WAAW,GAAG3F,SAAS,CAAC4F,KAAK,CAAErD,CAAC,IAAKnC,OAAO,CAACmC,CAAC,CAACsD,GAAG,CAAC,CAAC;EAE1D,oBACE1H,OAAA;IAAKiH,SAAS,EAAC,sCAAsC;IAAAC,QAAA,gBAEnDlH,OAAA;MAAKiH,SAAS,EAAC,kCAAkC;MAAAC,QAAA,EAC9CrF,SAAS,CAACsC,GAAG,CAAC,CAACC,CAAC,EAAEM,GAAG,kBACpB1E,OAAA;QAEEuH,OAAO,EAAEA,CAAA,KAAM7E,uBAAuB,CAACgC,GAAG,CAAE;QAC5CuC,SAAS,EAAE,sCACThF,OAAO,CAACmC,CAAC,CAACsD,GAAG,CAAC,GAAG,cAAc,GAAG,aAAa,EAC9C;QAAAR,QAAA,EAEFxC,GAAG,GAAG;MAAC,GANHN,CAAC,CAACsD,GAAG;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAOJ,CACT;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGNtH,OAAA;MAAKiH,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzBlH,OAAA;QAAIiH,SAAS,EAAC,wBAAwB;QAAAC,QAAA,GAAC,WAAS,EAACzE,oBAAoB,GAAG,CAAC;MAAA;QAAA0E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC/EtH,OAAA;QAAGiH,SAAS,EAAC,MAAM;QAAAC,QAAA,EAAEf,eAAe,CAACwB;MAAQ;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEjDnB,eAAe,CAAC7B,IAAI,KAAK,KAAK,IAC7B6B,eAAe,CAAC5B,OAAO,CAACJ,GAAG,CAAC,CAACM,GAAG,EAAEC,GAAG,KAAK;QACxC,MAAMkD,YAAY,GAAG/C,MAAM,CAACC,YAAY,CAAC,EAAE,GAAGJ,GAAG,CAAC;QAClD,MAAMmD,UAAU,GACd5F,OAAO,CAACkE,eAAe,CAACuB,GAAG,CAAC,MAC3BvB,eAAe,CAAClB,aAAa,GAAGkB,eAAe,CAAClB,aAAa,CAACP,GAAG,CAAC,GAAGkD,YAAY,CAAC;QACrF,oBACE5H,OAAA;UAAiBiH,SAAS,EAAE,oBAAoBY,UAAU,GAAG,aAAa,GAAG,EAAE,EAAG;UAAAX,QAAA,gBAChFlH,OAAA;YACEsE,IAAI,EAAC,OAAO;YACZwD,IAAI,EAAE3B,eAAe,CAACuB,GAAI;YAC1BxB,KAAK,EAAE0B,YAAa;YACpBG,OAAO,EAAEF,UAAW;YACpBG,QAAQ,EAAGjC,CAAC,IAAKC,kBAAkB,CAACG,eAAe,CAACuB,GAAG,EAAE3B,CAAC,CAACkC,MAAM,CAAC/B,KAAK,CAAE;YACzEe,SAAS,EAAC;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjB,CAAC,EACDM,YAAY,EAAC,IAAE,EAACnD,GAAG;QAAA,GATVC,GAAG;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAUR,CAAC;MAEZ,CAAC,CAAC,EAEHnB,eAAe,CAAC7B,IAAI,KAAK,MAAM,iBAC9BtE,OAAA;QACEkG,KAAK,EAAEjE,OAAO,CAACkE,eAAe,CAACuB,GAAG,CAAC,IAAI,EAAG;QAC1CM,QAAQ,EAAGjC,CAAC,IAAKC,kBAAkB,CAACG,eAAe,CAACuB,GAAG,EAAE3B,CAAC,CAACkC,MAAM,CAAC/B,KAAK,CAAE;QACzEe,SAAS,EAAC;MAAwB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CACF,eAEDtH,OAAA;QAAKiH,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BlH,OAAA;UACEuH,OAAO,EAAEA,CAAA,KAAM7E,uBAAuB,CAACjC,IAAI,CAACyH,GAAG,CAAC,CAAC,EAAEzF,oBAAoB,GAAG,CAAC,CAAC,CAAE;UAC9E0F,QAAQ,EAAE1F,oBAAoB,KAAK,CAAE;UACrCwE,SAAS,EAAC,+BAA+B;UAAAC,QAAA,EAC1C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACR7E,oBAAoB,GAAGZ,SAAS,CAACtB,MAAM,GAAG,CAAC,gBAC1CP,OAAA;UACEuH,OAAO,EAAEA,CAAA,KAAM7E,uBAAuB,CAACD,oBAAoB,GAAG,CAAC,CAAE;UACjEwE,SAAS,EAAC,0CAA0C;UAAAC,QAAA,EACrD;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,gBAETtH,OAAA;UACEuH,OAAO,EAAEhB,YAAa;UACtB4B,QAAQ,EAAE,CAACX,WAAW,IAAI3E,YAAa;UACvCoE,SAAS,EAAC,2CAA2C;UAAAC,QAAA,EACtD;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/F,EAAA,CAlNuBD,QAAQ;EAAA,QACZ9B,WAAW,EACZC,WAAW,EACbC,SAAS;AAAA;AAAA0I,EAAA,GAHF9G,QAAQ;AAAA,IAAA8G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}